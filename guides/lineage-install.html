<!DOCTYPE html>
<html lang="en-GB">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Guide to install or update LineageOS on Xiaomi Pocophone F1. Enable root with Magisk. Enable ad-blocking with AdAway.">
    <meta name="author" content="The Rev. Illusion">
    <title>Install LineageOS</title>

    <link rel="icon" href="../favicon/favicon.ico" type="image/x-icon">
    <link rel="icon" href="../favicon/favicon-512.png" sizes="512x512" type="image/png">
    <link rel="icon" href="../favicon/favicon-192.png" sizes="192x192" type="image/png">

    <link rel="stylesheet" href="guides.css">
</head>
<body>
    <header>
        <h1>LineageOS Installation Guide for Xiaomi Pocophone F1</h1>
    </header>

    <main>

	<p>Note that this guide is for educational purposes only. Unless you know <strong>exactly</strong> what you're doing, you should instead follow the <strong>official</strong> installation and update instructions in the <a href="https://wiki.lineageos.org/devices/beryllium/" target="_blank" rel="noopener noreferrer">LineageOS Wiki</a>.</p>
	<p>This <em>unofficial</em> guide explains how to install or update <strong>LineageOS</strong> on the <strong>Xiaomi Pocophone F1</strong> (also called the <em>Poco F1</em>).</p>

<hr>

        <h2>Install or Update LineageOS:</h2>
        <ol>
            <li>Download the latest <a href="https://download.lineageos.org/beryllium" target="_blank" rel="noopener noreferrer">LineageOS updates</a>.</li>

            <li>Copy the file <code>boot.img</code> to the phone.</li>

            <li>Reboot the phone in <strong>Fastboot</strong> mode.
                <ol>
                    <li>Flash the <strong>Recovery</strong> image:
                        <pre><code>$ fastboot flash recovery /path/to/recovery.img</code></pre>
                    </li>
                    <li>Flash the <strong>vbmeta</strong> image:
                        <pre><code>$ fastboot flash vbmeta --disable-verity --disable-verification /path/to/vbmeta.img</code></pre>
                    </li>
                </ol>
            </li>

            <li>Reboot into <strong>Recovery</strong>. <em>(Do not boot into the main OS yet, as it will restore the old Recovery!)</em>
                <ol>
                    <li>On the phone, select <strong>Apply update</strong>, then <strong>Apply from ADB</strong>. On the PC, run:
                        <pre><code>$ adb sideload /path/to/lineageOS-image.zip</code></pre>
                    </li>
                    <li>For new LineageOS installations, optionally download and install the latest <a href="https://wiki.lineageos.org/gapps/" target="_blank" rel="noopener noreferrer">Google Apps</a>:
                        <pre><code>$ adb -d sideload /path/to/GApps.zip</code></pre>
                    </li>
   

                    <p><strong>Note 1:</strong> Google Apps can <strong>only</strong> be installed after a factory reset. Likewise, a factory reset is required to remove Google Apps.<br>
                    <strong>Note 2:</strong> The <code>signature verification failed</code> warning is expected for 3rd-party (non-LineageOS) apps.<br>
                    <strong>Note 3:</strong> Wipe the cache partition before rebooting.</p>


                </ol>
            </li>
            <li>Reboot the phone into the <strong>main OS</strong>.</li>
        </ol>

<hr>

        <h2>Enable Root Access</h2>
        <ol>
            <li>For new LineageOS installations, install the <a href="https://github.com/topjohnwu/Magisk" target="_blank" rel="noopener noreferrer">Magisk</a> app. Enable the <strong>Systemless Hosts</strong> module.</li>
            <li>Open the Magisk app, and press the <strong>Install</strong> button. Choose <strong>Select and Patch a File</strong>, and browse to the latest <code>boot.img</code> file. This will generate a patched boot image named <code>magisk_patched_[random_strings].img</code>.</li>
            <li>Copy the patched boot image from the phone to the PC.</li>
            <li>Reboot the phone into <strong>Fastboot</strong> mode.</li>
            <li>Flash the patched boot image:
                <pre><code>$ fastboot flash boot /path/to/magisk_patched.img</code></pre>
            </li>
            <li>Reboot the phone into the <strong>main OS</strong>.</li>
        </ol>

<hr>

        <h2>Enable Ad-blocking</h2>
        <ol>
            <li>For new LineageOS installations, install <a href="https://adaway.org/" target="_blank" rel="noopener noreferrer">AdAway</a>.<br> Open Magisk and ensure that AdAway has <strong>Superuser</strong> privileges enabled.</li>
        </ol>

<hr>

        <h2>Troubleshooting</h2>
        <p>If Google Apps crashes repeatedly, reinstall LineageOS and immediately (before rebooting) reinstall Google Apps. Then clear the cache, and reboot. (Essentially, reinstall LineageOS as if it was a first time installation, including all the steps shown above.)</p>

    </main>

    <footer>
        <p>&copy; 2024 The Rev. Illusion<br><a href="../index.html#disclaimer">Disclaimer</a></p>
    </footer>
</body>
</html>
