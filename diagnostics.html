<!DOCTYPE html>
<html lang="en-GB">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="DIAGNOSTICS">
    <meta name="author" content="The Rev. Illusion">
    <title>DIAGNOSTICS</title>
    
    <link rel="icon" href="favicon/favicon.ico" type="image/x-icon">
    <link rel="icon" href="favicon/favicon-512.png" sizes="512x512" type="image/png">
    <link rel="icon" href="favicon/favicon-192.png" sizes="192x192" type="image/png">

	<!-- Hide the theme-toggle button if JavaScript is disabled. -->
	<noscript>
		<style>
			#theme-toggle { display: none; }
		</style>	
	</noscript>

    <!-- Add this script before loading the CSS -->
    <script>
        (function() {
            try {
                const storedTheme = localStorage.getItem('dark');
                if (storedTheme === '1') {
                    document.documentElement.setAttribute('data-theme', 'dark');
                }
            } catch (e) {
                console.error('Error accessing localStorage', e);
            }
        })();
    </script>

    <link rel="stylesheet" href="styles.css">
</head>

<body>

    <header>
        <a href="#stuff" class="skip-link">Skip to content</a>
        <nav aria-label="Main navigation">
            <!--- The button below is hidden when JavaScript is disabled by the <noscript> entry -->
            <button id="theme-toggle"> </button> <!--- Text and ARIA label added by JavaScript -->
            <a href="index.html">Ahoy!</a>
            <a href="arch.html">Arch</a>
            <a href="lineage.html">Lineage</a>
            <a href="tools.html">Tools</a>
            <a href="retro.html">Retro</a>
            <a href="diagnostics.html" aria-current="page" class="active">DIAGNOSTICS</a>
        </nav>
    </header>

    <main id="main-content">
        <h1>DIAGNOSTICS</h1>


        <section id="stuff">
            <h2>Stuff</h2>
            <a href="#nonsense" aria-label="Skip section">(Skip &darr;)</a>

			<noscript>
				<p>JavaScript is disabled in your browser. Enable it to view diagnostics.</p>
			</noscript>
         
			<table>
				<caption>Browser Diagnostics</caption>
				<thead>
					<tr>
						<th>Attribute</th>
						<th>Value</th>
					</tr>
				</thead>
				<tbody>
					<tr>
						<td><span class="highlight">JavaScript</span></td>
						<td id="js-status">Disabled</td>
					</tr>
					<tr>
						<td><span class="highlight">Cookies enabled</span></td>
						<td id="cookies-status">?</td>
					</tr>
					<tr>
						<td><span class="highlight">Screen size</span></td>
						<td id="screen-dimensions">?</td>
					</tr>

					<tr>
						<td><span class="highlight">Viewport dimensions</span></td>
						<td id="viewport-dimensions">?</td>
					</tr>
					<tr>
						<td><span class="highlight">Pixel ratio</span></td>
						<td id="pixel-ratio">?</td>
					</tr>
					<tr>
						<td><span class="highlight">Colour depth</span></td>
						<td id="color-depth">?</td>
					</tr>
					<tr>
						<td><span class="highlight">Screen orientation</span></td>
						<td id="screen-orientation">?</td>
					</tr>
					<tr>
						<td><span class="highlight">Touch support</span></td>
						<td id="touch-support">?</td>
					</tr>

					<tr>
						<td><span class="highlight">Browser</span></td>
						<td id="browser-info">?</td>
					</tr>
					<tr>
						<td><span class="highlight">Platform</span></td>
						<td id="browser-platform">?</td>
					</tr>

					<tr>
						<td><span class="highlight">User agent</span></td>
						<td id="user-agent">?</td>
					</tr>
					<tr>
						<td><span class="highlight">Time zone</span></td>
						<td id="time-zone">?</td>
					</tr>
					<tr>
						<td><span class="highlight">Language</span></td>
						<td id="language">?</td>
					</tr>
					<tr>
						<td><span class="highlight">Preferred Languages</span></td>
						<td id="preferred-languages">?</td>
					</tr>
					
					<tr>
						<!-- Connection-type is not supported in Firefox or Safari -->
						<td><span class="highlight">Connection Type</span></td>
						<td id="connection-type">?</td>
					</tr>

					<tr>
						<td><span class="highlight">Public IPv4 Address</span></td>
						<td id="ipv4-address">(Click button below)</td>
					</tr>
					<tr>
						<td><span class="highlight">Public IPv6 Address</span></td>
						<td id="ipv6-address">(Click button below)</td>
					</tr>



				</tbody>
			</table>

<button onclick="fetchIPAddresses()">Show IP Addresses</button>

			<p>Clicking the button above will contact <a href="https://icanhazip.com/" target="_blank" rel="noopener noreferrer">icanhazip.com</a> 
			to obtain your IP addresses.  This service is currently owned and operated by Cloudflare.</p>

        </section>

<hr>

        <section>
            <h2 id="nonsense">Nonsense</h2>
            <a href="#stuff" aria-label="Skip to previous section">(Skip &uarr;)</a>

			<p>Who <em>are</em> you, and what are you <em>doing</em>?!  I ask myself such questions on a regular basis.
			With a fancy bit of JavaScript, all will become clear!</p>
			

			
<!--        <picture>
                <source srcset="images_main/XXX_IMAGE_FILE-512.webp" media="(max-width: 600px)" type="image/webp">
                <source srcset="images_main/XXX_IMAGE_FILE-1024.webp" media="(min-width: 601px)" type="image/webp">
                <img src="images_main/XXX_IMAGE_FILE.jpg" alt="XXX_IMAGE_ALT" width="XXX_IMAGE_WIDTH" height="XXX_IMAGE_HEIGHT" class="responsive-image">
            </picture>
-->
        </section>
        









    </main>

    <footer>
        <p>&copy; 2024 The Rev. Illusion<br><a href="index.html#disclaimer">Disclaimer</a></p>
    </footer>

    <script src="theme-toggle.js"></script>
    <script src="diagnostics/diagnostics.js"></script>
    <script src="diagnostics/fetchIP.js"></script>

</body>
</html>
